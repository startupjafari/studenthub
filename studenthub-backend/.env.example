# ===========================================
# StudentHub Backend - Переменные окружения
# ===========================================
# Скопируйте этот файл в .env и заполните значения
# cp .env.example .env

# -------------------------------------------
# Основные настройки приложения
# -------------------------------------------

# Окружение: development | production | test
NODE_ENV=development

# Порт сервера
PORT=3000

# Название приложения
APP_NAME=StudentHub

# -------------------------------------------
# База данных PostgreSQL
# -------------------------------------------

# URL подключения к PostgreSQL
# Формат: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/studenthub?schema=public

# Отдельные параметры для Docker Compose
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=studenthub
POSTGRES_PORT=5432

# -------------------------------------------
# Redis (кэш, очереди, сессии)
# -------------------------------------------

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -------------------------------------------
# JWT Аутентификация
# -------------------------------------------

# Секретный ключ для access токенов (ОБЯЗАТЕЛЕН в production!)
# Генерация: openssl rand -hex 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Время жизни access токена (15m = 15 минут)
JWT_EXPIRATION=15m

# Секретный ключ для refresh токенов (ОБЯЗАТЕЛЕН в production!)
# Генерация: openssl rand -hex 64
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production

# Время жизни refresh токена (7d = 7 дней)
JWT_REFRESH_EXPIRATION=7d

# -------------------------------------------
# Frontend URL (для CORS и email ссылок)
# -------------------------------------------

# URL фронтенда (можно указать несколько через запятую)
FRONTEND_URL=http://localhost:4000

# -------------------------------------------
# Email (SMTP или SendGrid)
# -------------------------------------------

# Email отправителя
SMTP_FROM_EMAIL=noreply@studenthub.com

# --- Вариант 1: SMTP (Gmail, Mail.ru, Yandex и др.) ---

# SMTP хост
# Gmail: smtp.gmail.com
# Mail.ru: smtp.mail.ru
# Yandex: smtp.yandex.ru
SMTP_HOST=smtp.gmail.com

# SMTP порт (587 для TLS, 465 для SSL)
SMTP_PORT=587

# Использовать SSL (true для порта 465)
SMTP_SECURE=false

# Логин SMTP (обычно email)
SMTP_USER=your-email@gmail.com

# Пароль SMTP (для Gmail используйте App Password)
SMTP_PASSWORD=your-app-password

# --- Вариант 2: SendGrid ---

# API ключ SendGrid (если используете вместо SMTP)
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@studenthub.com

# -------------------------------------------
# AWS S3 (хранилище медиафайлов)
# -------------------------------------------

# AWS Access Key ID
AWS_ACCESS_KEY_ID=

# AWS Secret Access Key
AWS_SECRET_ACCESS_KEY=

# AWS регион
AWS_REGION=us-east-1

# Название S3 bucket
AWS_S3_BUCKET=studenthub-media

# -------------------------------------------
# Административные инструменты (Docker)
# -------------------------------------------

# PgAdmin (веб-интерфейс для PostgreSQL)
PGADMIN_EMAIL=admin@studenthub.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Redis Commander (веб-интерфейс для Redis)
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin
REDIS_COMMANDER_PORT=8081

# -------------------------------------------
# Дополнительные настройки
# -------------------------------------------

# Уровень логирования: debug | info | warn | error
LOG_LEVEL=info

# Максимальный размер загружаемого файла (в байтах, 10MB = 10485760)
MAX_FILE_SIZE=10485760

# Разрешенные типы файлов для загрузки
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime,application/pdf

# -------------------------------------------
# Rate Limiting
# -------------------------------------------

# Количество запросов в минуту для публичных endpoints
RATE_LIMIT_PUBLIC=100

# Количество запросов в минуту для аутентифицированных пользователей
RATE_LIMIT_AUTHENTICATED=1000

# -------------------------------------------
# Firebase (Push уведомления)
# -------------------------------------------

# Firebase Project ID
FIREBASE_PROJECT_ID=

# Firebase Client Email (из service account)
FIREBASE_CLIENT_EMAIL=

# Firebase Private Key (из service account, с \n)
FIREBASE_PRIVATE_KEY=
